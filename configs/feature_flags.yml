# Feature flags for alignment pipeline behavior
#
# These flags control which stages are active and how they behave

# Stage 2: Raw Foundation + conversion (PREFERRED)
prefer_raw_foundation_convert: true

# Stage 5: Proxy alignment for classes lacking Foundation/Legacy
enable_proxy_alignment: true

# Stage Z: Branded universal fallback (DISABLED by default in evaluations)
# Set to false for reproducible testing, true for graceful end-user mode
stageZ_branded_fallback: false

# StageZ Deterministic Branded Fallback (NEW - Phase 7.4)
# For foods that don't exist in Foundation/SR (cherry tomatoes, broccoli florets, etc.)
# Uses hardcoded FDC IDs from stageZ_branded_fallbacks.yml
# Only triggers when Stage1b/1c/2 fail AND class-intent matches target classes
allow_branded_when_foundation_missing: true

# Vision model mode
vision_mass_only: true

# Stage 1: Strict cooked exact match gate
# Set to false to allow Stage 2 rawâ†’cooked conversion when SR cooked not found
strict_cooked_exact_gate: false
